(this["webpackJsonprecipe-test"]=this["webpackJsonprecipe-test"]||[]).push([[0],{30:function(n,t,e){},50:function(n,t,e){"use strict";e.r(t);var i,o,a,c,r,s,l,d,u,b=e(0),m=e.n(b),h=e(22),g=e.n(h),f=(e(30),e(3)),p=e(4),j=e(5),O=Object(j.a)(i||(i=Object(p.a)(["\n\n    *{\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n        font-family: sans-serif; \n        overflow: hidden;\n    }    \n\n    body {\n        background-color: #000;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-overflow-scrolling: auto;\n        overflow: hidden;\n\n        &::-webkit-scrollbar {\n        display: none;\n        }\n    }\n\n    button:focus {\n    outline: none;\n    }\n\n    img {\n      position: relative;\n      width: 100%;\n      display: block;\n    }\n\n    p {\n      display: inline-block;\n      line-height: 2.65em;\n      margin-left: 1em;\n      color: #555;\n    }\n\n    .ps {\n      margin-left: 0em;\n    }\n\n    .App {\n      width: 100%;\n      height: 100vh;\n      text-align: center;\n      position: absolute;\n      overflow: hidden;\n    }\n\n    .for-grid {\n      height: 9.07vw;\n      width: 9.07vw;\n      object-fit: cover;\n      transition: 0.8s;\n      opacity: 1;\n      cursor: pointer;\n    }\n\n    .for-grid:hover{\n      padding: 0.5em;\n      opacity: 0.25;\n    }\n\n    .container-for-grid {\n      display: inline-block;\n      vertical-align: top;\n    }\n\n    .containerAnimate {      \n      -webkit-animation-name: glide;\n      -webkit-animation-duration: 30000ms;\n      -webkit-animation-iteration-count: infinite;\n      -webkit-animation-timing-function: linear;\n      -moz-animation-name: glide;\n      -moz-animation-duration: 30000ms;\n      -moz-animation-iteration-count: infinite;\n      -moz-animation-timing-function: linear;\n      -ms-animation-name: glide;\n      -ms-animation-duration: 30000ms;\n      -ms-animation-iteration-count: infinite;\n      -ms-animation-timing-function: linear;\n      animation-name: glide;\n      animation-duration: 30000ms;\n      animation-iteration-count: infinite;\n      animation-timing-function: linear;  \n    }\n\n    .Results {\n      width: 100%;\n      height: 100%;\n      text-align: center;\n      border: 1px solid #bbb;\n      border-radius: 0.25em;\n      padding: 0.75em;\n      margin: 4em auto;\n      position: relative;\n    }\n\n    .img-container {\n      width: 100%;    \n    }\n\n    .container-logo { \n      position: absolute;\n      display: block;\n      background-color: #ff0;\n      z-index: 3;\n      bottom: 0;\n      width: 14.5em;\n    }\n\n    .for-logo {\n      width: 100%;\n    }\n\n    @media screen and (max-width: 991px) {\n      .for-grid {\n        height: 20vw;\n        width: 20vw;\n      }\n    }\n\n    @keyframes glide {\n      0%   {margin-top: 0vw;}\n      25%  {margin-top: -12.5vw;}\n      50%  {margin-top: -25vw;}\n      75%  {margin-top: -12.5vw;}\n      100% {margin-top: 0vw;}\n    }\n"]))),w=Object(j.b)("button")(o||(o=Object(p.a)(["\n  background-color: ",";\n  background-color: ",";\n  min-width: 6em;\n  padding: 15px 20px;\n  color: #fff;\n  font-weight: 600;\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  line-height: 1em;\n  cursor: pointer;\n  border: none;\n  position: absolute;\n  z-index: 2;\n  bottom: 0;\n  transition: 0.4s;\n  display: ",";\n  opacity: ",";\n  margin-left: ",";\n\n  &:hover {\n    background-color: "," ;\n    background-color: ",";\n    opacity: ",";\n  }\n\n  &.active {\n    background-color: #004386;\n  }\n\n  &.disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n  \n  @media screen and (max-width: 991px) {\n    min-width: 5.35em;\n    opacity: ",";\n  }\n"])),(function(n){return n.spotify?"#1ed860":"#002eff"}),(function(n){return n.other?"#e600e6":""}),(function(n){return n.hideMe?"none":"block"}),(function(n){return n.showGrid?"0":"1"}),(function(n){return n.spotify?"16.5em":"22.45em"}),(function(n){return n.spotify?"#1ca14b":"#031cac"}),(function(n){return n.other?"#b300b3":""}),(function(n){n.showGrid;return"1"}),(function(n){return n.showGrid?"0.4":"1"})),k=j.b.div(a||(a=Object(p.a)(["\n  position: absolute;\n  display: block;\n  background-color: #ff0;\n  z-index: 3;\n  bottom: 0.01em;\n  width: 14.5em;\n  opacity: ",";\n  cursor: pointer;\n  transition: 0.4s;\n\n  &:hover {\n    opacity: ",";\n  }\n"])),(function(n){return n.toggle?"0":"1"}),(function(n){return n.toggle?"0.4":"0.9"})),v=j.b.div(c||(c=Object(p.a)(["\n  opacity: ",";\n  text-align: left;\n  position: absolute;\n  display: block;\n  width: 40%;\n  margin-left: 35%;\n  height: 20em;\n  margin-top: 10%;\n"])),(function(n){return n.show?"0":"1"})),y=j.b.p(r||(r=Object(p.a)(["\n  display: inline-block;\n  line-height: 2.65em;\n  margin-left: 1em;\n  color: #dc0a29;\n  margin-left: 0em;\n"]))),x=j.b.div(s||(s=Object(p.a)(["\n  display: inline-block;\n  background-color: ",";\n  color: #000;\n  font-size: 14px;\n  font-weight: 700;\n  line-height: 1em;\n  padding: 1em 1.1em;\n"])),(function(n){return n.checked?"#1ed860":"#555"})),S=j.b.div(l||(l=Object(p.a)(["\n  height: 0.25em;\n"]))),z=j.b.div(d||(d=Object(p.a)(["\n  height: 1.5em;\n"]))),I=(j.b.div(u||(u=Object(p.a)(["\n  height: 3em;\n"]))),O),C=e(11),A=e.n(C),G=e.p+"static/media/gridy.cb93892b.svg",M=e(1),N=function(n){var t=Object(b.useState)(""),e=Object(f.a)(t,2),i=e[0],o=e[1],a=Object(b.useState)([]),c=Object(f.a)(a,2),r=c[0],s=c[1],l=Object(b.useState)(!1),d=Object(f.a)(l,2),u=d[0],m=d[1],h=Object(b.useState)(!1),g=Object(f.a)(h,2),p=g[0],j=g[1],O=Object(b.useState)(!1),I=Object(f.a)(O,2),C=I[0],N=I[1],B=Object(b.useState)(""),L=Object(f.a)(B,2),R=L[0],T=L[1],_=Object(b.useState)(!1),U=Object(f.a)(_,2),E=U[0],F=U[1],D=Object(b.useState)(!1),J=Object(f.a)(D,2),Y=J[0],H=J[1],P=Object(b.useState)(!1),q=Object(f.a)(P,2),K=q[0],Q=q[1];Object(b.useEffect)((function(){localStorage.getItem("accessToken")&&(o(localStorage.getItem("accessToken")),F(!0))}),[]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(v,{show:u,children:[Object(M.jsx)(x,{checked:E,children:"1"}),Object(M.jsx)("p",{children:"Log in with Spotify"}),Object(M.jsx)(S,{}),Object(M.jsx)(x,{checked:Y,children:"2"}),Object(M.jsx)("p",{children:"Get the currently playing playlist"}),Object(M.jsx)(S,{}),Object(M.jsx)(x,{checked:K,children:"3"}),Object(M.jsx)("p",{children:"Build the grid!"}),Object(M.jsx)(z,{}),Object(M.jsx)("p",{className:"ps",children:"\u2199 You can always rebuild, the button is just hiding at the bottom"}),Object(M.jsx)(S,{}),Object(M.jsx)(y,{children:R})]}),""===i?Object(M.jsx)(w,{variant:"outlined",onClick:function(){return n.handleLogin()},spotify:!0,children:"Log In"}):Object(M.jsx)(w,{variant:"outlined",onClick:function(){return n.handleLogin()},spotify:!0,showGrid:u,children:"\u27f3"}),r.items||!1===E?Object(M.jsx)("div",{className:"containerAnimate",children:u?r.items.map((function(n){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{className:"container-for-grid",children:Object(M.jsx)("img",{className:"for-grid",src:null===n.track.album.href?null:n.track.album.images[1].url,alt:"artwork"})})})})):Object(M.jsx)(w,{variant:"outlined",onClick:function(n){N(!0),n.preventDefault();var t=function(n){for(var t,e=n.length;0!==e;){t=Math.floor(Math.random()*e),e--;var i=[n[t],n[e]];n[e]=i[0],n[t]=i[1]}return n}(r.items);t=t.concat(t),console.log("doubled",t),m(!0),N(!1),Q(!0)},disabled:C,other:!0,hideMe:!Y,children:"Build Grid"})}):Object(M.jsx)(w,{variant:"outlined",onClick:function(n){n.preventDefault(),N(!0),A.a.get("https://api.spotify.com/v1/me/player?market=us",{headers:{Authorization:"Bearer "+i}}).then((function(n){return A.a.get("https://api.spotify.com/v1/playlists/".concat(n.data.context.uri.substring(17),"/tracks?market=us&fields=(items(track(album(images))))&limit=99&offset=0"),{headers:{Authorization:"Bearer "+i}}).then((function(n){console.log(n.data),s(n.data),N(!1),H(!0),T("")})).catch((function(n){console.log(n),T("The playlist you're listening to has offline songs")}))})).catch((function(n){console.log(n),T("You're not listening to a playlist right now :/")}))},children:"Get Current Playlist"}),Object(M.jsx)(k,{onClick:function(){return j(!p)},toggle:p,children:Object(M.jsx)("img",{className:"for-logo",src:G,alt:"logo"})})]})},B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var L=function(n){for(var t=" ",e=B.length,i=0;i<n;i++)t+=B.charAt(Math.floor(Math.random()*e));return t}(16),R="https://accounts.spotify.com/authorize";R+="?response_type=token",R+="&client_id="+encodeURIComponent("815a413830104996ac5818ea2ab67772"),R+="&scope="+encodeURIComponent("user-read-playback-state playlist-read-private"),R+="&redirect_uri="+encodeURIComponent("https://isaul-garcia.github.io/gridy-spotify/"),R+="&state="+encodeURIComponent(L);var T=function(){return Object(b.useEffect)((function(){if(window.location.hash){var n=window.location.hash.substring(1).split("&").reduce((function(n,t){var e=t.split("="),i=Object(f.a)(e,2),o=i[0],a=i[1];return n[o]=a,n}),{}),t=n.access_token,e=n.expires_in,i=n.token_type;localStorage.clear(),localStorage.setItem("accessToken",t),localStorage.setItem("tokenType",i),localStorage.setItem("expiresIn",e)}})),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(I,{}),Object(M.jsx)("div",{className:"App",children:Object(M.jsx)(N,{handleLogin:function(){window.location="".concat(R)}})})]})};g.a.render(Object(M.jsx)(m.a.StrictMode,{children:Object(M.jsx)(T,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.700fcae4.chunk.js.map